<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple STG Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="rain"></div>
    <script>
        const rainContainer = document.querySelector('.rain');
    
        // Function to create raindrops
        function createRain() {
            for (let i = 0; i < 100; i++) {
                const raindrop = document.createElement('div');
                raindrop.classList.add('raindrop');
                
                // Randomly position the raindrop across the screen
                raindrop.style.left = `${Math.random() * window.innerWidth}px`;
                
                // Randomize the animation duration for a more natural look
                raindrop.style.animationDuration = `${1 + Math.random()}s`;
                
                rainContainer.appendChild(raindrop);
            }
        }
    
        createRain();
        let audioContext;
        let gainNode;
        let isPlaying = false;

        function playMusic() {
            if (isPlaying) {
                return;
            } else{
                isPlaying = true;
                const a = (notes, center, duration, decaystart, decayduration, interval, volume, waveform) => {
                        audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        gainNode = audioContext.createGain();
                        gainNode.connect(audioContext.destination);
                        
                        for (let i of notes) {
                            const oscillator = audioContext.createOscillator();
                            oscillator.frequency.setValueAtTime(center * 1.06 ** (13 - i[1]), audioContext.currentTime + i[0] * interval);
                            oscillator.type = waveform;
                            
                            const noteGain = audioContext.createGain();
                            noteGain.gain.setValueAtTime(volume, audioContext.currentTime + i[0] * interval);
                            noteGain.gain.setTargetAtTime(1e-5, audioContext.currentTime + i[0] * interval + decaystart, decayduration);

                            oscillator.connect(noteGain);
                            noteGain.connect(gainNode);
                            
                            oscillator.start(audioContext.currentTime + i[0] * interval);
                            oscillator.stop(audioContext.currentTime + i[0] * interval + duration);
                        }
                    };
                
                    
                a(
                [[0, 15], [1, 15], [3, 10], [4, 10], [6, 8], [7, 8], [9, 7], [10, 7], [11, 7], [12, 7], [13, 7], [14, 7], [15, 5], 
                [16, 5], [17, 8], [18, 8], [19, 8], [20, 8], [21, 8], [22, 8], [23, 7], [24, 7], [25, 10], [26, 10], [27, 10], 
                [28, 10], [29, 10], [30, 10], [31, 10], [32, 10], [34, 10], [35, 10], [36, 11], [37, 11], [38, 10], [39, 10], 
                [40, 8], [41, 8], [42, 7], [43, 7], [44, 8], [45, 8], [46, 7], [47, 7], [48, 5], [49, 5], [50, 3], [51, 3], [33, 10], 
                [54, 3], [55, 3], [58, 3], [59, 3], [60, 3], [61, 3], [62, 3], [63, 3], [64, 3], [65, 3], [66, 3], [67, 3], [68, 5], 
                [69, 5], [70, 3], [72, 2], [73, 2], [74, 2], [75, 2], [76, 2], [77, 2], [78, 2], [79, 2], [71, 3], [80, 8], [81, 8], 
                [82, 8], [83, 8], [84, 7], [85, 7], [87, 5], [89, 3], [90, 3], [91, 3], [92, 3], [93, 3], [94, 3], [95, 3], [96, 3], 
                [97, 10], [98, 10], [99, 10], [100, 10], [102, 10], [103, 10], [104, 8], [105, 8], [106, 7], [107, 7], [110, 7], 
                [111, 7], [112, 5], [113, 5], [114, 8], [115, 8], [118, 8], [119, 8], [120, 7], [121, 7], [122, 10], [123, 10], 
                [124, 10], [125, 10], [101, 10], [32, 8], [33, 8], [41, 5], [42, 5], [71, 5], [88, 7], [89, 5]], 
                400, .19, .18, .005, .2, .1, 'triangle'
                );
                setTimeout(() => {
                    isPlaying = false;
                }, 26000);}
            }
        music = setInterval(playMusic, 1000);
    </script>
    <div class="container">
        <div id=player class="instructions">
            <h2>How to Play</h2>
            <p>Use the arrow keys to move:</p>
            <ul>
                <li><strong>⬅:</strong> Move Left</li>
                <li><strong>➡:</strong> Move Right</li>
                <li><strong>⬆:</strong> Move Up</li>
                <li><strong>⬇:</strong> Move Down</li>
                <li><strong>Shift:</strong> Move Slow</li>
                <li><strong>Escape:</strong> Pause The Game</li>
            </ul>
        </div>
        <canvas id="gameCanvas" width="400" height="600"></canvas>
        <div class="hud">
            <h2>Game Info</h2>
            <p id="lives">Lives: 3</p>
            <p id="points">Points: 0</p>
            <p id="level">Level: 1</p>
        </div>
    </div>
    
    <script src="stg-game.js"></script>
</body>
</html>